---
Tags:
  - 题面
---
# SSLOJ-2025-8-11-T4.不稳定的导弹系统
题解：[题解：SSLOJ-2025-8-11-T4.不稳定的导弹系统](../../../题解/SSLOJ/2025-8-11A/题解：SSLOJ-2025-8-11-T4.不稳定的导弹系统.md)

题解：[[../../../题解/SSLOJ/2025-8-11A/题解：SSLOJ-2025-8-11-T4.不稳定的导弹系统|题解：SSLOJ-2025-8-11-T4.不稳定的导弹系统]]
## 题目描述

王国发生了叛乱，整个国家处处都有叛军，在这危急时刻，国王下令将刚刚制的导弹系统投入使用，以消灭叛军。

但导弹发射器分散在全国各地，每个导弹发射器只来得及配备一枚超级导弹。更糟糕的是，导弹发射器的转向器还没装上，以至于只能攻击一个方向上的叛军，一枚超级导弹可以将一个单位区域的所有叛军歼灭。超级导弹将在同一时间发射，超级导弹的飞行路线不能有交叉，否则一旦碰撞后果不堪设想。

现在将王国简化成一个 $N \times M$ 的网格图，每一小格代表一个单位区域，单位区域上要么是空地，要么是导弹发射器，要么有一定数量的叛军。现在国王希望能歼灭尽可能多的叛军。

注：保证不会有导弹发射器能炸到另一个导弹发射器。

## 输入格式
第一行两个正整数 $N$ , $M$ 。

接下来 $N$ 行，每行 $M$ 个数， $0$ 代表空地， $-1$ 、 $-2$ 、 $-3$ 、 $-4$ 分别代表朝向为北/南/西/东的导弹发射器，否则代表了该地叛军的数量。

## 输出格式
一行一个整数，最多能消灭多少叛军。

## 数据范围与提示
对于 $20\%$ 的数据， $N, M \leq 5$ 。  
对于 $60\%$ 的数据， $N, M \leq 20$ 。  
对于 $100\%$ 的数据， $N, M \leq 50$ ，单位区域中的叛军不超过 $1000$ 人。