---
Tags:
  - 题面
---
# SSLOJ-2025-8-18-T3.火车
题解：[题解：SSLOJ-2025-8-18-T3.火车](../../../题解/SSLOJ/2025-8-18A/题解：SSLOJ-2025-8-18-T3.火车.md)

题解：[[../../../题解/SSLOJ/2025-8-18A/题解：SSLOJ-2025-8-18-T3.火车|题解：SSLOJ-2025-8-18-T3.火车]]
## 题目描述

A国有 $n$ 个城市，城市之间有一些双向道路相连，并且城市两两之间有唯一路径。现在有火车在城市 $a$ ，需要经过 $m$ 个城市。火车按照以下规则行驶：每次行驶到还没有经过的城市中在 $m$ 个城市中最靠前的。现在小A想知道火车经过这 $m$ 个城市后所经过的道路数量。

## 输入格式
第一行三个整数 $n$ 、 $m$ 、 $a$ ，表示城市数量，需要经过的城市数量，火车开始时所在位置。

接下来 $n-1$ 行，每行两个整数 $x$ 和 $y$ ，表示 $x$ 和 $y$ 之间有一条双向道路。

接下来一行 $m$ 个整数，表示需要经过的城市。

## 输出格式
一行一个整数，表示火车经过的道路数量。

## 数据范围

| 编号 | $n$ | $m$ | 编号 | $n$ | $m$ |
|---|---|---|---|---|---|
| 1 | $100$ | $30$ | 11 | $100000$ | $30000$ |
| 2 | $300$ | $100$ | 12 | $100000$ | $50000$ |
| 3 | $500$ | $200$ | 13 | $200000$ | $40000$ |
| 4 | $1000$ | $500$ | 14 | $200000$ | $100000$ |
| 5 | $100000$ | $10000$ | 树随机生成 | 15 | $300000$ | $80000$ |
| 6 | $200000$ | $100000$ | 树随机生成 | 16 | $300000$ | $200000$ |
| 7 | $300000$ | $200000$ | 树随机生成 | 17 | $400000$ | $100000$ |
| 8 | $500000$ | $400000$ | 树随机生成 | 18 | $400000$ | $300000$ |
| 9 | $50000$ | $20000$ |  | 19 | $500000$ | $200000$ |
| 10 | $50000$ | $40000$ |  | 20 | $500000$ | $400000$ |