---
Tags:
  - 题解
---
# 题面
[SSLOJ-2025-8-13-T2.列车调度](../../../题面/SSLOJ题面/2025-8-13A/SSLOJ-2025-8-13-T2.列车调度.md)

![[../../../题面/SSLOJ题面/2025-8-13A/SSLOJ-2025-8-13-T2.列车调度]]
# 分析
> 考虑只有每条轨道上的列车顺序均为递减才能使出站顺序递减。
> 
> 那么我们维护一个递增序列，每一位表示该轨道最后进站的列车，每次新进站车找轨道末列车序大于自身序号的第一个列车，二分找就好了。
# 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
const int N=1e5+1;
int n,a[N],b[N],len;
int main(){
	cin>>n;
	for(int i=1;i<=n;++i)cin>>a[i];
	for(int i=1;i<=n;++i){
		if(a[i]>b[len])b[++len]=a[i];
		else b[upper_bound(b+1,b+1+len,a[i])-b]=a[i];
	}
	return cout<<len,0;
}
```