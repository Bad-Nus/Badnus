---
tags:
  - 板子
---
# 普通快速幂

```cpp
ll mi(ll x, ll y, ll mod) {
    ll res = 1;
    while (y) {
        if (y & 1)
            res = res * x % mod;
        x = x * x % mod;
        y >>= 1;
    }
    return res;
}
```

# 简化

```cpp
ll mi(ll x,ll y,ll mod){
	ll res=1;
	for(;y;y>>=1,x=x*x%mod)if(y&1)res=res*x%mod;
	return res;
}
```

# 矩阵快速幂

```cpp
#include<bits/stdc++.h>
#define rep(u,x,y) for(int u=x;u<=y;++u)
using namespace std;
const int N=10,mod=1e9+7;
typedef long long ll;
struct Matrix{
    ll a[N][N];
    Matrix(){memset(a,0,sizeof(a));};
    Matrix operator*(const Matrix &b)const{
        Matrix res;
        rep(i,0,N-1)rep(k,0,N-1)if(a[i][k])rep(j,0,N-1)
            res.a[i][j]=(res.a[i][j]+a[i][k]*b.a[k][j])%mod;
        return res;
    }
};
Matrix mat_pow(Matrix x,ll y){
    Matrix res;
    rep(i,0,N-1)res.a[i][i]=1;
    while(y){
        if(y&1)res=res*x;
        x=x*x;
        y>>=1;
    }
    return res;
}
int main(){

    return 0;
}
```