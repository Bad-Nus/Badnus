---
tags:
  - 板子
---
# 裸板
```cpp
void init(){rep(i,1,n)f[i]=i;}
int find(int x){return f[x]==x?x:f[x]=find(f[x]);}
void merge(int x,int y){f[find(x)]=find(y);}
```

# 模板并查集
[例题](https://www.luogu.com.cn/problem/P1551)
```cpp
#include<bits/stdc++.h>
#define rep(u,x,y) for(int u=x;u<=y;++u)
using namespace std;
typedef long long ll;
const int N=1e6+1;
int f[N],n,m,q,x,y;
void init(){rep(i,1,n)f[i]=i;}
int find(int x){return f[x]==x?x:f[x]=find(f[x]);}
void merge(int x,int y){f[find(x)]=find(y);}
int main(){
    cin>>n>>m>>q;
    init();
    while(m--)cin>>x>>y,merge(x,y);
    while(q--)cin>>x>>y,cout<<((find(x)==find(y))?"Yes":"No")<<endl;
    return 0;
}
```

# Kruskal
[例题](https://www.luogu.com.cn/problem/P3366)
```cpp
#include<bits/stdc++.h>
#define rep(u,x,y) for(int u=x;u<=y;++u)
using namespace std;
typedef long long ll;
const int N=1e6+1;
struct nd{
    int x,y,z;
    bool operator<(const nd&a)const{return z<a.z;}
}v[N];
int n,m,q,x,y,z,num;
int f[N];
ll ans;
void init(){rep(i,1,n)f[i]=i;}
int find(int x){return f[x]==x?x:f[x]=find(f[x]);}
void merge(int x,int y){f[find(x)]=find(y);}
int main(){
    cin>>n>>m;
    init();
    rep(i,1,m)cin>>x>>y>>z,v[i]={x,y,z};
    sort(v+1,v+1+m);
    rep(i,1,m){
        if(find(v[i].x)==find(v[i].y))continue;
        ++num,ans+=v[i].z,merge(v[i].x,v[i].y);
        if(num==n-1)return cout<<ans,0;
    }
    cout<<"orz";
    return 0;
}
```