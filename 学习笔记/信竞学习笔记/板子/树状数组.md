---
tags:
  - 板子
---
# 单改区查

[例题](http://ssloj.cn/contest/262/problem/2)

```cpp
#include<bits/stdc++.h>
#define rep(u,x,y) for(int u=x;u<=y;++u)
#define lowbit(x) (x&-x)
using namespace std;
typedef long long ll;
const int N=1e6+1;
int a[N],n,m,op,x,y;
void init(){rep(i,1,n)a[i+lowbit(i)]+=a[i];}
void upd(int x,int k){while(x<=n)a[x]+=k,x+=lowbit(x);}
ll ask(int x){ll res=0;while(x)res+=a[x],x-=lowbit(x);return res;}
int main(){
    cin>>n>>m;
    rep(i,1,n)cin>>a[i];
    init();
    while(m--){
        cin>>op>>x>>y;
        if(op==1)upd(x,y);
        else cout<<ask(y)-ask(x-1)<<endl;
    }
    return 0;
}
```

# 区改区查